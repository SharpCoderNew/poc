<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Palette Shop - Light Theme</title>
  <style>
    :root{
      /* Light theme tokens */
      --bg: #f5f7fb;
      --surface: #ffffff;
      --text: #1f2a37;
      --muted: #5b6470;
      --border: #e6eaf0;
      --shadow: 0 2px 10px rgba(0,0,0,.05);
      --radius: 12px;

      /* Brand accents (bright highlights on light surfaces) */
      --teal: #0fb1a8;
      --yellow: #ffd34d;
      --coral: #ff6f61;
      --green: #26a96b;

      /* UI state colors */
      --focus: 2px solid color-mix(in oklab, var(--teal) 60%, white);
      --bg-soft: #f9fbfd;
    }

    /* Base styles */
    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial;
      background: var(--bg);
      color: var(--text);
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    /* Header (soft gradient + light surface) */
    .site-header {
      background: linear-gradient(135deg, #eafaff 0%, #ffffff 60%, #f7fbff 100%);
      border-bottom: 1px solid var(--border);
      position: sticky; top: 0; z-index: 20;
    }
    .header-inner {
      max-width: 1200px; margin: 0 auto; padding: 14px 20px;
      display: flex; align-items: center; gap: 16px;
    }
    .brand { display: flex; align-items: center; gap: 8px; font-weight: 700; font-size: 1.15rem; }
    .logo { font-size: 1.4rem; line-height: 1; }
    .name { letter-spacing: .2px; }
    .search-area { flex: 1; min-width: 260px; }
    #search {
      width: 100%; padding: 10px 12px; border-radius: 999px;
      border: 1px solid var(--border); background: #fff;
      outline: none; font-size: 0.95rem;
    }
    #search:focus { border-color: var(--teal); box-shadow: 0 0 0 3px rgba(15,177,168,.15); }

    .btn, button { font-family: inherit; cursor: pointer; border: none; border-radius: 999px; padding: 10px 14px; font-weight: 600; }
    .btn { background: #fff; color: var(--text); border: 1px solid var(--border); }
    .btn:hover { background: #f8fbfd; }
    .btn-ghost { background: #fff; border:1px solid var(--border); color: var(--text); }
    .btn-primary { background: var(--teal); color: white; border: 1px solid rgba(15,177,168,.8); }
    .btn-accent { background: var(--yellow); color: #1a1a1a; border: 1px solid rgba(255,211,77,.8); }

    /* Layout */
    .container { max-width: 1200px; margin: 0 auto; padding: 16px 20px; }
    .main-layout { display: grid; grid-template-columns: 260px 1fr; gap: 20px; align-items: start; }
    @media (max-width: 900px){
      .main-layout { grid-template-columns: 1fr; }
      .filters { order: 2; }
    }

    /* Filters panel */
    .filters { background: var(--surface); border: 1px solid var(--border); border-radius: var(--radius); padding: 16px; box-shadow: var(--shadow); position: sticky; top: 78px; height: fit-content; }
    .filters h3 { margin: 6px 0 12px; font-size: 1.1rem; }
    .filter-group { margin-bottom: 14px; font-size: 0.92rem; color: var(--muted); }
    .filter-group label { display: block; margin-bottom: 6px; }
    .checkbox-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 6px 12px; }
    .range-row { display: grid; grid-template-columns: 1fr auto 1fr auto; align-items: center; gap: 6px; }
    input[type="range"] { width: 100%; }
    .empty { color: var(--muted); padding: 8px 0; }

    /* Catalog grid */
    .catalog { background: transparent; }
    .controls { display: flex; justify-content: space-between; align-items: center; margin: 8px 0 12px; padding: 0 2px; }
    .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(210px, 1fr)); gap: 14px; }
    .card { background: #fff; border: 1px solid var(--border); border-radius: 12px; overflow: hidden; display: flex; flex-direction: column; transition: box-shadow .2s; }
    .card:hover { box-shadow: 0 6px 18px rgba(0,0,0,.06); }
    .card-media { height: 150px; display: flex; align-items: center; justify-content: center; background: #fff; }
    .card-body { padding: 10px 12px; display: flex; flex-direction: column; gap: 6px; }
    .card-title { font-size: 1rem; margin: 0; }
    .card-meta { display: flex; justify-content: space-between; align-items: center; font-size: .9rem; color: var(--muted); }
    .card-actions { display:flex; justify-content: space-between; padding: 8px 12px 12px; gap: 8px; }

    .swatch { width: 22px; height: 22px; border-radius: 6px; border: 1px solid #bbb; margin-right: 6px; display: inline-block; }

    /* Modals and drawer */
    .modal { position: fixed; inset: 0; background: rgba(0,0,0,.25); display: flex; align-items: center; justify-content: center; padding: 16px; z-index: 40; }
    .modal-content { background: #fff; border-radius: 14px; width: min(700px, 92%); max-height: 86vh; overflow: hidden; box-shadow: 0 20px 60px rgba(0,0,0,.25); position: relative; }
    .modal-body { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; padding: 16px; }
    .modal-media { display:flex; align-items:center; justify-content:center; min-height: 220px; border-right: 1px solid var(--border); padding: 6px; }
    .modal-info { padding: 6px; display:flex; flex-direction:column; gap:8px; }
    .modal-info h2 { margin: 0; font-size: 1.25rem; }
    .modal-info .price { font-weight: 700; font-size: 1.05rem; }
    .modal-actions { display:flex; gap: 8px; margin-top: 6px; }

    .close { position: absolute; top: 8px; right: 8px; background: #f0f0f0; width: 34px; height: 34px; border-radius: 50%; font-size: 20px; line-height: 0; display:flex; align-items:center; justify-content:center; cursor: pointer; }

    .drawer { position: fixed; top: 0; right: 0; width: 380px; max-width: 90vw; height: 100%; background: #fff; border-left: 1px solid var(--border); box-shadow: -6px 0 18px rgba(0,0,0,.05); z-index: 50; display: flex; flex-direction: column; padding: 0; }
    .drawer-header { display:flex; align-items: center; justify-content: space-between; padding: 14px 14px; border-bottom: 1px solid var(--border); }
    .drawer-content { padding: 10px 14px; overflow: auto; flex: 1; }
    .drawer-footer { padding: 12px 14px; border-top: 1px solid var(--border); display:flex; flex-direction: column; gap: 8px; }
    .cart-row { display: flex; align-items: center; padding: 8px 0; border-bottom: 1px solid var(--border); }
    .cart-thumb { background: #f3f6f9; border-radius: 6px; width: 48px; height: 48px; display:inline-block; }
    .cart-name { font-size: 0.95rem; font-weight: 600; }
    .cart-meta { font-size: .8rem; color: var(--muted); }
    .order-confirm { padding: 20px; font-size: 1.1rem; text-align: center; color: var(--teal); }

    .qty-controls { display: inline-flex; align-items: center; gap: 6px; }

    .btn-qty { width: 28px; height: 28px; border-radius: 6px; border: 1px solid var(--border); background: #fff; }

    /* Accessibility helpers */
    [aria-hidden="true"] { display: none; }

    /* Footer */
    .site-footer { text-align: center; padding: 18px 0; color: var(--muted); font-size: .9rem; border-top: 1px solid var(--border); background: #fff; }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="site-header" aria-label="Site header">
    <div class="header-inner container">
      <div class="brand" aria-label="Palette Shop">
        <span class="logo" aria-hidden="true">ðŸŽ¨</span>
        <span class="name">Palette Shop</span>
      </div>
      <div class="search-area" aria-label="Product search">
        <input type="search" id="search" placeholder="Search products..." aria-label="Search products" />
      </div>
      <button class="btn btn-ghost" id="openCart" aria-label="Open cart">Cart (0)</button>
    </div>
  </header>

  <!-- Main -->
  <main class="container main-layout" aria-label="Product catalog and filters">
    <!-- Filters -->
    <aside class="filters" id="filters" aria-label="Product filters">
      <h3>Filters</h3>
      <div class="filter-group">
        <label>Category</label>
        <div class="checkbox-grid" aria-label="Categories">
          <label><input type="checkbox" value="Apparel" class="category" checked> Apparel</label>
          <label><input type="checkbox" value="Accessories" class="category" checked> Accessories</label>
          <label><input type="checkbox" value="Home" class="category" checked> Home</label>
        </div>
      </div>

      <div class="filter-group" aria-label="Price range">
        <label>Price</label>
        <div class="range-row" style="align-items:center;">
          <input type="range" min="0" max="200" value="0" id="priceMin" />
          <span id="priceMinVal">$0</span>
          <input type="range" min="0" max="200" value="200" id="priceMax" />
          <span id="priceMaxVal">$200</span>
        </div>
      </div>

      <div class="filter-group">
        <button class="btn" id="resetFilters" aria-label="Reset filters">Reset</button>
      </div>
    </aside>

    <!-- Catalog -->
    <section class="catalog" aria-label="Product catalog">
      <div class="controls">
        <div></div>
        <div class="sort" aria-label="Sort options">
          <label for="sortSelect" style="margin-right:8px;">Sort by</label>
          <select id="sortSelect" aria-label="Sort products">
            <option value="relevance">Relevance</option>
            <option value="price-asc">Price: Low to High</option>
            <option value="price-desc">Price: High to Low</option>
            <option value="name-asc">Name A-Z</option>
          </select>
        </div>
      </div>
      <div class="grid" id="productGrid" aria-label="Product grid">
        <!-- Product cards injected by JS -->
      </div>
    </section>
  </main>

  <!-- Product Modal -->
  <div class="modal" id="productModal" role="dialog" aria-modal="true" aria-label="Product details" hidden>
    <div class="modal-content" role="document">
      <button class="close" id="closeModal" aria-label="Close product details">Ã—</button>
      <div class="modal-body">
        <div class="modal-media" id="modalMedia" aria-label="Product image area"></div>
        <div class="modal-info">
          <h2 id="modalTitle">Product Name</h2>
          <p class="price" id="modalPrice" aria-label="Product price"></p>
          <p class="description" id="modalDesc" aria-label="Product description"></p>
          <div class="swatches" id="modalSwatches" aria-label="Color options" style="display:flex;flex-wrap:wrap;gap:6px;margin:6px 0 8px 0;"></div>
          <div class="modal-actions">
            <button class="btn btn-accent" id="addToCartFromModal" aria-label="Add to cart">Add to cart</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Cart Drawer -->
  <aside class="drawer" id="cartDrawer" aria-label="Shopping cart" hidden aria-hidden="true">
    <div class="drawer-header">
      <h3>Your Cart</h3>
      <button class="close" id="closeCart" aria-label="Close cart">âœ•</button>
    </div>
    <div class="drawer-content" id="cartContent" aria-live="polite">
      <p class="empty">Your cart is empty. Add items to continue.</p>
    </div>
    <div class="drawer-footer">
      <div class="subtotal" id="cartSubtotal">Subtotal: $0.00</div>
      <button class="btn btn-primary" id="checkoutBtn" aria-label="Checkout" disabled>Checkout</button>
    </div>
  </aside>

  <!-- Checkout Modal -->
  <div class="modal" id="checkoutModal" role="dialog" aria-modal="true" aria-label="Checkout" hidden>
    <div class="modal-content" role="document" style="width: 640px;">
      <button class="close" id="closeCheckout" aria-label="Close checkout">Ã—</button>
      <div class="checkout-steps" id="checkoutSteps" style="padding:16px;">
        <!-- Steps injected by JS -->
      </div>
    </div>
  </div>

  <footer class="site-footer" aria-label="Footer">
    <div class="container">
      <small>&copy; 2025 Palette Shop</small>
    </div>
  </footer>

  <script>
    // Data and state
    const products = [
      {id:1, name:'Teal Linen Scarf', category:'Accessories', price:24, rating:4.5, description:'Lightweight scarf in teal linen with subtle texture.', colors:['teal','blue','mint'], stock:8},
      {id:2, name:'Sunrise Tee', category:'Apparel', price:22, rating:4.2, description:'Soft cotton tee with vibrant yellow sun print.', colors:['yellow','coral','white'], stock:12},
      {id:3, name:'Ocean Throw Pillow', category:'Home', price:34, rating:4.7, description:'Decorative pillow with ocean blue hues and soft fill.', colors:['blue','turquoise','gray'], stock:15},
      {id:4, name:'Coral Ceramic Vase', category:'Home', price:42, rating:4.4, description:'Hand-glazed vase in coral accent for bright desks.', colors:['coral','white'], stock:6},
      {id:5, name:'Mint Ceramic Mug', category:'Home', price:16, rating:4.1, description:'Eco-friendly mug with mint glaze.', colors:['mint','white'], stock:20},
      {id:6, name:'Navy Calm Hoodie', category:'Apparel', price:58, rating:4.6, description:'Cozy hoodie in navy for cool evenings.', colors:['navy','gray','white'], stock:5}
    ];

    let cart = [];
    let modalProduct = null;

    // Helpers
    function currency(n){ return '$' + n.toFixed(2); }

    function renderProducts(){
      const grid = document.getElementById('productGrid');
      grid.innerHTML = '';
      const search = (document.getElementById('search')?.value || '').toLowerCase();
      const selectedCategories = Array.from(document.querySelectorAll('.category:checked')).map(e => e.value);
      const min = Number(document.getElementById('priceMin').value);
      const max = Number(document.getElementById('priceMax').value);

      // filter
      let list = products.filter(p => selectedCategories.includes(p.category) && p.price >= min && p.price <= max && (p.name.toLowerCase().includes(search) || p.description.toLowerCase().includes(search)));

      // sort
      const sort = document.getElementById('sortSelect').value;
      if(sort==='price-asc') list.sort((a,b)=>a.price-b.price);
      else if(sort==='price-desc') list.sort((a,b)=>b.price-a.price);
      else if(sort==='name-asc') list.sort((a,b)=>a.name.localeCompare(b.name));
      // relevance fallback: as-is

      for(const p of list){
        const card = document.createElement('div');
        card.className = 'card';
        card.innerHTML = `
          <div class="card-media" role="img" aria-label="${p.name} product image">
            ${makeSVG(p.colors[0], p.name)}
          </div>
          <div class="card-body">
            <h4 class="card-title">${p.name}</h4>
            <div class="card-meta">
              <span class="rating" aria-label="Rating ${p.rating}">${'â˜…'.repeat(Math.floor(p.rating))}${p.rating%1>=0.5?'Â½':''}</span>
              <span class="price">${currency(p.price)}</span>
            </div>
          </div>
          <div class="card-actions">
            <button class="btn" data-id="${p.id}" aria-label="View ${p.name}">View</button>
            <button class="btn btn-ghost" data-id="${p.id}" aria-label="Add ${p.name} to cart">Add</button>
          </div>
        `;
        grid.appendChild(card);
      }

      // Attach event listeners
      grid.querySelectorAll('.card button[data-id]').forEach(btn=>{
        btn.addEventListener('click', e=>{
          const id = Number(btn.getAttribute('data-id'));
          const prod = products.find(p=>p.id===id);
          openModal(prod);
        });
      });
      grid.querySelectorAll('.card button.btn-ghost[data-id]').forEach(btn=>{
        btn.addEventListener('click', e=>{
          const id = Number(btn.getAttribute('data-id'));
          const prod = products.find(p=>p.id===id);
          addToCart(prod, 1);
        });
      });
    }

    function makeSVG(color, title){
      // simple decorative SVG representing product color
      const svg = `
      <svg width="180" height="120" viewBox="0 0 180 120" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="${title} artwork">
        <defs>
          <linearGradient id="g" x1="0" x2="1" y1="0" y2="1">
            <stop stop-color="${color}" offset="0"/>
            <stop stop-color="#ffffff" offset="1"/>
          </linearGradient>
        </defs>
        <rect width="180" height="120" fill="#f5f7fb"/>
        <ellipse cx="90" cy="60" rx="70" ry="40" fill="url(#g)" opacity="0.9"/>
        <circle cx="60" cy="40" r="14" fill="rgba(0,0,0,.05)"/>
        <text x="90" y="110" font-family="Arial" font-size="12" text-anchor="middle" fill="#333">${title}</text>
      </svg>`;
      return svg;
    }

    function openModal(prod){
      modalProduct = prod;
      document.getElementById('modalTitle').textContent = prod.name;
      document.getElementById('modalPrice').textContent = currency(prod.price);
      document.getElementById('modalDesc').textContent = prod.description;
      // media
      document.getElementById('modalMedia').innerHTML = makeSVG(prod.colors[0], prod.name);
      // swatches
      const sw = document.getElementById('modalSwatches');
      sw.innerHTML = '';
      prod.colors.forEach((c,i)=>{
        const swatch = document.createElement('button');
        swatch.type='button';
        swatch.className='swatch';
        swatch.style.background = c;
        swatch.style.borderColor = '#bbb';
        swatch.setAttribute('aria-label', c);
        swatch.addEventListener('click', ()=>{
          // update media to reflect chosen color
          document.getElementById('modalMedia').innerHTML = makeSVG(c, prod.name);
        });
        sw.appendChild(swatch);
      });

      document.getElementById('productModal').hidden = false;
      // ensure accessibility
      document.getElementById('productModal').style.display = 'flex';
      document.getElementById('productModal').focus();
    }

    function closeModal(){
      const modal = document.getElementById('productModal');
      modal.hidden = true;
      modal.style.display = 'none';
    }

    function addToCart(prod, qty){
      const item = cart.find(i => i.id===prod.id);
      if(item){
        item.qty += qty;
      } else {
        cart.push({id: prod.id, name: prod.name, price: prod.price, qty: qty, color: prod.colors[0]});
      }
      updateCartUI();
    }

    function updateCartUI(){
      const content = document.getElementById('cartContent');
      content.innerHTML = '';
      let subtotal = 0;
      if(cart.length===0){
        content.innerHTML = '<p class="empty">Your cart is empty. Add some items!</p>';
      } else {
        cart.forEach(item=>{
          const row = document.createElement('div');
          row.className = 'cart-row';
          row.innerHTML = `
            <div class="cart-thumb" aria-label="Product image" style="width:48px;height:48px;background:#f0f4f8;border-radius:6px;display:inline-block;margin-right:8px;vertical-align:middle;"></div>
            <div class="cart-info" style="display:inline-block;vertical-align:middle;">
              <div class="cart-name">${item.name}</div>
              <div class="cart-meta">${item.color} â€¢ ${currency(item.price)}</div>
            </div>
            <div class="qty-controls" style="margin-left: auto; display:inline-flex; align-items:center;">
              <button class="btn-qty" data-id="${item.id}" data-action="decr" aria-label="Decrease quantity">âˆ’</button>
              <span class="qty" aria-live="polite" style="min-width:20px;text-align:center;display:inline-block;">${item.qty}</span>
              <button class="btn-qty" data-id="${item.id}" data-action="incr" aria-label="Increase quantity">+</button>
            </div>
          `;
          content.appendChild(row);
        });

        // qty handlers
        content.querySelectorAll('.btn-qty').forEach(btn=>{
          btn.addEventListener('click', ()=>{
            const id = Number(btn.getAttribute('data-id'));
            const action = btn.getAttribute('data-action');
            const item = cart.find(i=>i.id===id);
            if(!item) return;
            if(action==='incr') item.qty += 1; else if(action==='decr'){ item.qty = Math.max(1, item.qty-1); }
            if(item.qty===0){
              cart = cart.filter(i=>i.id!==id);
            }
            updateCartUI();
          });
        });
      }

      subtotal = cart.reduce((sum,it)=> sum + it.price * it.qty, 0);
      document.getElementById('cartSubtotal').textContent = 'Subtotal: ' + currency(subtotal);

      document.getElementById('checkoutBtn').disabled = cart.length===0;
      document.getElementById('openCart').textContent = `Cart (${cart.length})`;
    }

    // Cart drawer controls
    document.getElementById('openCart').addEventListener('click', ()=> {
      document.getElementById('cartDrawer').hidden = false;
      document.getElementById('cartDrawer').style.display = 'block';
      document.getElementById('cartDrawer').focus();
    });

    document.getElementById('closeCart').addEventListener('click', ()=>{
      document.getElementById('cartDrawer').hidden = true;
      document.getElementById('cartDrawer').style.display = '';
    });

    // Modal close
    document.getElementById('closeModal').addEventListener('click', closeModal);

    // Filter interactions
    document.getElementById('priceMin').addEventListener('input', ()=> {
      // keep min <= max
      const min = Number(document.getElementBydocument.getElementById('priceMin').addEventListener('input', ()=> {
          // keep min <= max
          const min = Number(document.getElementById('priceMin').value);
          const max = Number(document.getElementById('priceMax').value);
          document.getElementById('priceMinVal').textContent = '$' + min;
          if(min > max){
            document.getElementById('priceMax').value = min;
            document.getElementById('priceMaxVal').textContent = '$' + min;
          }
          renderProducts();
        });

        document.getElementById('priceMax').addEventListener('input', ()=> {
          const max = Number(document.getElementById('priceMax').value);
          const min = Number(document.getElementById('priceMin').value);
          document.getElementById('priceMaxVal').textContent = '$' + max;
          if(max < min){
            document.getElementById('priceMin').value = max;
            document.getElementById('priceMinVal').textContent = '$' + max;
          }
          renderProducts();
        });

        document.getElementById('resetFilters').addEventListener('click', ()=> {
          // Reset to defaults
          document.querySelectorAll('.category').forEach(cb => cb.checked = true);
          document.getElementById('priceMin').value = 0;
          document.getElementById('priceMax').value = 200;
          document.getElementById('priceMinVal').textContent = '$0';
          document.getElementById('priceMaxVal').textContent = '$200';
          document.getElementById('search').value = '';
          renderProducts();
        });

        // Live search and category changes
        document.getElementById('search').addEventListener('input', renderProducts);
        document.querySelectorAll('.category').forEach(cb => cb.addEventListener('change', renderProducts));
        document.getElementById('sortSelect').addEventListener('change', renderProducts);

        // Add to cart from modal
        document.getElementById('addToCartFromModal').addEventListener('click', ()=> {
          if(!modalProduct) return;
          addToCart(modalProduct, 1);
          closeModal();
          document.getElementById('openCart').click();
        });

        // Open/close cart drawer handled via header button and close button already wired
        // Checkout flow
        function setupCheckout(){
          const stepsContainer = document.getElementById('checkoutSteps');
          stepsContainer.innerHTML = `
            <h3>Checkout</h3>
            <div id="checkoutContent" style="margin-top:8px;">
              <p>Your total will be calculated from cart items.</p>
              <div style="margin:8px 0;">
                <label>Name</label><br/>
                <input type="text" id="checkoutName" style="width:100%;padding:8px;border:1px solid var(--border);border-radius:6px;">
              </div>
              <div style="margin:8px 0;">
                <label>Email</label><br/>
                <input type="email" id="checkoutEmail" style="width:100%;padding:8px;border:1px solid var(--border);border-radius:6px;">
              </div>
              <div style="margin:8px 0;">
                <label>Address</label><br/>
                <textarea id="checkoutAddress" rows="3" style="width:100%;padding:8px;border:1px solid var(--border);border-radius:6px;"></textarea>
              </div>
              <div style="margin:8px 0;">
                <strong>Total: <span id="checkoutTotal">${currency(cart.reduce((s,i)=> s + i.price*i.qty, 0))}</span></strong>
              </div>
              <div class="modal-actions" style="margin-top:8px;">
                <button class="btn btn-primary" id="confirmCheckout" aria-label="Confirm checkout">Place order</button>
              </div>
            </div>
          `;
          document.getElementById('confirmCheckout').addEventListener('click', ()=> {
            // Simple success state
            stepsContainer.innerHTML = '<div class="order-confirm" style="color:var(--teal);">Order placed successfully. Thank you!</div>';
            cart = [];
            updateCartUI();
            setTimeout(()=> {
              document.getElementById('checkoutModal').hidden = true;
              document.getElementById('checkoutModal').style.display = 'none';
            }, 1200);
          });
          // update totals
          document.getElementById('checkoutTotal').textContent = currency(cart.reduce((s,i)=> s + i.price*i.qty, 0));
        }

        document.getElementById('checkoutBtn').addEventListener('click', ()=> {
          setupCheckout();
          document.getElementById('checkoutModal').hidden = false;
          document.getElementById('checkoutModal').style.display = 'flex';
        });

        document.getElementById('closeCheckout').addEventListener('click', ()=> {
          document.getElementById('checkoutModal').hidden = true;
          document.getElementById('checkoutModal').style.display = 'none';
        });

        // Keyboard shortcuts
        document.addEventListener('keydown', (e)=> {
          if(e.key === 'Escape'){
            if(!document.getElementById('productModal').hidden){
              closeModal();
            }
            if(!document.getElementById('cartDrawer').hidden){
              document.getElementById('cartDrawer').hidden = true;
            }
            if(!document.getElementById('checkoutModal').hidden){
              document.getElementById('checkoutModal').hidden = true;
              document.getElementById('checkoutModal').style.display = 'none';
            }
          }
        });

        // Init on load
        window.addEventListener('DOMContentLoaded', ()=> {
          renderProducts();
          updateCartUI();
          document.getElementById('priceMinVal').textContent = '$' + document.getElementById('priceMin').value;
          document.getElementById('priceMaxVal').textContent = '$' + document.getElementById('priceMax').value;
        });
      </script>
  </body>
</html>